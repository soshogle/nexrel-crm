{"version":3,"file":"js/smush-detector.min.js","mappings":"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","sources":["webpack://wp-smushit/./node_modules/get-xpath/index.umd.js","webpack://wp-smushit/./node_modules/unique-selector/lib/getAttributes.js","webpack://wp-smushit/./node_modules/unique-selector/lib/getClasses.js","webpack://wp-smushit/./node_modules/unique-selector/lib/getCombinations.js","webpack://wp-smushit/./node_modules/unique-selector/lib/getID.js","webpack://wp-smushit/./node_modules/unique-selector/lib/getNthChild.js","webpack://wp-smushit/./node_modules/unique-selector/lib/getParents.js","webpack://wp-smushit/./node_modules/unique-selector/lib/getTag.js","webpack://wp-smushit/./node_modules/unique-selector/lib/index.js","webpack://wp-smushit/./node_modules/unique-selector/lib/isElement.js","webpack://wp-smushit/./node_modules/unique-selector/lib/isUnique.js","webpack://wp-smushit/webpack/bootstrap","webpack://wp-smushit/webpack/runtime/compat get default export","webpack://wp-smushit/webpack/runtime/define property getters","webpack://wp-smushit/webpack/runtime/hasOwnProperty shorthand","webpack://wp-smushit/./_src/js/frontend/detector.js"],"sourcesContent":["!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):(e=e||self).getXPath=n()}(this,function(){function e(){return(e=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)({}).hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(null,arguments)}var n={ignoreId:!1},o=\"undefined\"!=typeof Node,r=o?Node.ELEMENT_NODE:1,i=o?Node.TEXT_NODE:3,t=o?Node.DOCUMENT_TYPE_NODE:10;return function(o,d){var f=e({},n,d),a=o;if(a&&a.id&&!f.ignoreId)return'//*[@id=\"'+a.id+'\"]';for(var p=[];a&&(r===a.nodeType||i===a.nodeType);){for(var u=0,l=!1,N=a.previousSibling;N;)N.nodeType!==t&&N.nodeName===a.nodeName&&u++,N=N.previousSibling;for(N=a.nextSibling;N;){if(N.nodeName===a.nodeName){l=!0;break}N=N.nextSibling}var s=u||l?\"[\"+(u+1)+\"]\":\"\";p.push(a.nodeType!=i?(a.prefix?a.prefix+\":\":\"\")+a.localName+s:\"text()\"+(s||\"[1]\")),a=a.parentNode}return p.length?\"/\"+p.reverse().join(\"/\"):\"\"}});\n//# sourceMappingURL=index.umd.js.map\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAttributes = getAttributes;\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/**\n * Returns the Attribute selectors of the element\n * @param  { DOM Element } element\n * @param  { Array } array of attributes to ignore\n * @return { Array }\n */\nfunction getAttributes(el) {\n  var attributesToIgnore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['id', 'class', 'length'];\n  var attributes = el.attributes;\n\n  var attrs = [].concat(_toConsumableArray(attributes));\n\n  return attrs.reduce(function (sum, next) {\n    if (!(attributesToIgnore.indexOf(next.nodeName) > -1)) {\n      sum.push('[' + next.nodeName + '=\"' + next.value + '\"]');\n    }\n    return sum;\n  }, []);\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getClasses = getClasses;\nexports.getClassSelectors = getClassSelectors;\n/**\n * Get class names for an element\n *\n * @pararm { Element } el\n * @return { Array }\n */\nfunction getClasses(el) {\n  if (!el.hasAttribute('class')) {\n    return [];\n  }\n\n  try {\n    var classList = Array.prototype.slice.call(el.classList);\n\n    // return only the valid CSS selectors based on RegEx\n    return classList.filter(function (item) {\n      return !/^[a-z_-][a-z\\d_-]*$/i.test(item) ? null : item;\n    });\n  } catch (e) {\n    var className = el.getAttribute('class');\n\n    // remove duplicate and leading/trailing whitespaces\n    className = className.trim().replace(/\\s+/g, ' ');\n\n    // split into separate classnames\n    return className.split(' ');\n  }\n}\n\n/**\n * Returns the Class selectors of the element\n * @param  { Object } element\n * @return { Array }\n */\nfunction getClassSelectors(el) {\n  var classList = getClasses(el).filter(Boolean);\n  return classList.map(function (cl) {\n    return '.' + cl;\n  });\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getCombinations = getCombinations;\n/**\n * Recursively combinate items.\n * @param  { Array } result\n * @param  { Array } items\n * @param  { Array } data\n * @param  { Number } start\n * @param  { Number } end\n * @param  { Number } index\n * @param  { Number } k\n */\nfunction kCombinations(result, items, data, start, end, index, k) {\n    if (index === k) {\n        result.push(data.slice(0, index).join(''));\n        return;\n    }\n\n    for (var i = start; i <= end && end - i + 1 >= k - index; ++i) {\n        data[index] = items[i];\n        kCombinations(result, items, data, i + 1, end, index + 1, k);\n    }\n}\n\n/**\n * Returns all the possible selector combinations\n * @param  { Array } items\n * @param  { Number } k\n * @return { Array }\n */\nfunction getCombinations(items, k) {\n    var result = [],\n        n = items.length,\n        data = [];\n\n    for (var l = 1; l <= k; ++l) {\n        kCombinations(result, items, data, 0, n - 1, 0, l);\n    }\n\n    return result;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getID = getID;\n/**\n * Returns the Tag of the element\n * @param  { Object } element\n * @return { String }\n */\nfunction getID(el) {\n  var id = el.getAttribute('id');\n\n  if (id !== null && id !== '') {\n    // if the ID starts with a number or contains \":\" selecting with a hash will cause a DOMException\n    return id.match(/(?:^\\d|:)/) ? '[id=\"' + id + '\"]' : '#' + id;\n  }\n  return null;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getNthChild = getNthChild;\n\nvar _isElement = require('./isElement');\n\n/**\n * Returns the selectors based on the position of the element relative to its siblings\n * @param  { Object } element\n * @return { Array }\n */\nfunction getNthChild(element) {\n  var counter = 0;\n  var k = void 0;\n  var sibling = void 0;\n  var parentNode = element.parentNode;\n\n\n  if (Boolean(parentNode)) {\n    var childNodes = parentNode.childNodes;\n\n    var len = childNodes.length;\n    for (k = 0; k < len; k++) {\n      sibling = childNodes[k];\n      if ((0, _isElement.isElement)(sibling)) {\n        counter++;\n        if (sibling === element) {\n          return ':nth-child(' + counter + ')';\n        }\n      }\n    }\n  }\n  return null;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getParents = getParents;\n\nvar _isElement = require('./isElement');\n\n/**\n * Returns all the element and all of its parents\n * @param { DOM Element }\n * @return { Array of DOM elements }\n */\nfunction getParents(el) {\n  var parents = [];\n  var currentElement = el;\n  while ((0, _isElement.isElement)(currentElement)) {\n    parents.push(currentElement);\n    currentElement = currentElement.parentNode;\n  }\n\n  return parents;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTag = getTag;\n/**\n * Returns the Tag of the element\n * @param  { Object } element\n * @return { String }\n */\nfunction getTag(el) {\n  return el.tagName.toLowerCase().replace(/:/g, '\\\\:');\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = unique;\n\nvar _getID = require('./getID');\n\nvar _getClasses = require('./getClasses');\n\nvar _getCombinations = require('./getCombinations');\n\nvar _getAttributes = require('./getAttributes');\n\nvar _getNthChild = require('./getNthChild');\n\nvar _getTag = require('./getTag');\n\nvar _isUnique = require('./isUnique');\n\nvar _getParents = require('./getParents');\n\n/**\n * Returns all the selectors of the elmenet\n * @param  { Object } element\n * @return { Object }\n */\n/**\n * Expose `unique`\n */\n\nfunction getAllSelectors(el, selectors, attributesToIgnore) {\n  var funcs = {\n    'Tag': _getTag.getTag,\n    'NthChild': _getNthChild.getNthChild,\n    'Attributes': function Attributes(elem) {\n      return (0, _getAttributes.getAttributes)(elem, attributesToIgnore);\n    },\n    'Class': _getClasses.getClassSelectors,\n    'ID': _getID.getID\n  };\n\n  return selectors.reduce(function (res, next) {\n    res[next] = funcs[next](el);\n    return res;\n  }, {});\n}\n\n/**\n * Tests uniqueNess of the element inside its parent\n * @param  { Object } element\n * @param { String } Selectors\n * @return { Boolean }\n */\nfunction testUniqueness(element, selector) {\n  var parentNode = element.parentNode;\n\n  var elements = parentNode.querySelectorAll(selector);\n  return elements.length === 1 && elements[0] === element;\n}\n\n/**\n * Tests all selectors for uniqueness and returns the first unique selector.\n * @param  { Object } element\n * @param  { Array } selectors\n * @return { String }\n */\nfunction getFirstUnique(element, selectors) {\n  return selectors.find(testUniqueness.bind(null, element));\n}\n\n/**\n * Checks all the possible selectors of an element to find one unique and return it\n * @param  { Object } element\n * @param  { Array } items\n * @param  { String } tag\n * @return { String }\n */\nfunction getUniqueCombination(element, items, tag) {\n  var combinations = (0, _getCombinations.getCombinations)(items, 3),\n      firstUnique = getFirstUnique(element, combinations);\n\n  if (Boolean(firstUnique)) {\n    return firstUnique;\n  }\n\n  if (Boolean(tag)) {\n    combinations = combinations.map(function (combination) {\n      return tag + combination;\n    });\n    firstUnique = getFirstUnique(element, combinations);\n\n    if (Boolean(firstUnique)) {\n      return firstUnique;\n    }\n  }\n\n  return null;\n}\n\n/**\n * Returns a uniqueSelector based on the passed options\n * @param  { DOM } element\n * @param  { Array } options\n * @return { String }\n */\nfunction getUniqueSelector(element, selectorTypes, attributesToIgnore, excludeRegex) {\n  var foundSelector = void 0;\n\n  var elementSelectors = getAllSelectors(element, selectorTypes, attributesToIgnore);\n\n  if (excludeRegex && excludeRegex instanceof RegExp) {\n    elementSelectors.ID = excludeRegex.test(elementSelectors.ID) ? null : elementSelectors.ID;\n    elementSelectors.Class = elementSelectors.Class.filter(function (className) {\n      return !excludeRegex.test(className);\n    });\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = selectorTypes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var selectorType = _step.value;\n      var ID = elementSelectors.ID,\n          Tag = elementSelectors.Tag,\n          Classes = elementSelectors.Class,\n          Attributes = elementSelectors.Attributes,\n          NthChild = elementSelectors.NthChild;\n\n      switch (selectorType) {\n        case 'ID':\n          if (Boolean(ID) && testUniqueness(element, ID)) {\n            return ID;\n          }\n          break;\n\n        case 'Tag':\n          if (Boolean(Tag) && testUniqueness(element, Tag)) {\n            return Tag;\n          }\n          break;\n\n        case 'Class':\n          if (Boolean(Classes) && Classes.length) {\n            foundSelector = getUniqueCombination(element, Classes, Tag);\n            if (foundSelector) {\n              return foundSelector;\n            }\n          }\n          break;\n\n        case 'Attributes':\n          if (Boolean(Attributes) && Attributes.length) {\n            foundSelector = getUniqueCombination(element, Attributes, Tag);\n            if (foundSelector) {\n              return foundSelector;\n            }\n          }\n          break;\n\n        case 'NthChild':\n          if (Boolean(NthChild)) {\n            return NthChild;\n          }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return '*';\n}\n\n/**\n * Generate unique CSS selector for given DOM element\n *\n * @param {Element} el\n * @return {String}\n * @api private\n */\n\nfunction unique(el) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$selectorType = options.selectorTypes,\n      selectorTypes = _options$selectorType === undefined ? ['ID', 'Class', 'Tag', 'NthChild'] : _options$selectorType,\n      _options$attributesTo = options.attributesToIgnore,\n      attributesToIgnore = _options$attributesTo === undefined ? ['id', 'class', 'length'] : _options$attributesTo,\n      _options$excludeRegex = options.excludeRegex,\n      excludeRegex = _options$excludeRegex === undefined ? null : _options$excludeRegex;\n\n  var allSelectors = [];\n  var parents = (0, _getParents.getParents)(el);\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = parents[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var elem = _step2.value;\n\n      var selector = getUniqueSelector(elem, selectorTypes, attributesToIgnore, excludeRegex);\n      if (Boolean(selector)) {\n        allSelectors.push(selector);\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var selectors = [];\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = allSelectors[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var it = _step3.value;\n\n      selectors.unshift(it);\n      var _selector = selectors.join(' > ');\n      if ((0, _isUnique.isUnique)(el, _selector)) {\n        return _selector;\n      }\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3.return) {\n        _iterator3.return();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  return null;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.isElement = isElement;\n/**\n * Determines if the passed el is a DOM element\n */\nfunction isElement(el) {\n  var isElem = void 0;\n\n  if ((typeof HTMLElement === 'undefined' ? 'undefined' : _typeof(HTMLElement)) === 'object') {\n    isElem = el instanceof HTMLElement;\n  } else {\n    isElem = !!el && (typeof el === 'undefined' ? 'undefined' : _typeof(el)) === 'object' && el.nodeType === 1 && typeof el.nodeName === 'string';\n  }\n  return isElem;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isUnique = isUnique;\n/**\n * Checks if the selector is unique\n * @param  { Object } element\n * @param  { String } selector\n * @return { Array }\n */\nfunction isUnique(el, selector) {\n  if (!Boolean(selector)) return false;\n  var elems = el.ownerDocument.querySelectorAll(selector);\n  return elems.length === 1 && elems[0] === el;\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","import unique from 'unique-selector';\nimport getXPath from 'get-xpath';\n\nexport class SmushLCPDetector {\n\tonLCP(data) {\n\t\tconst element = data?.entries[0]?.element;\n\t\tconst imageUrl = data?.attribution?.url;\n\t\tif (!element || !imageUrl) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selector = unique(element);\n\t\tconst xpath = getXPath(element, {ignoreId: true});\n\t\tthis.useRelativeImageURL = this.shouldUseRelativeImageURL( element, imageUrl );\n\t\tconst body = {\n\t\t\turl: window.location.href,\n\t\t\tdata: JSON.stringify({\n\t\t\t\tselector: selector,\n\t\t\t\tselector_xpath: xpath,\n\t\t\t\tselector_id: element?.id,\n\t\t\t\tselector_class: element?.className,\n\t\t\t\timage_url: this.useRelativeImageURL ? this.makeImageURLRelative( imageUrl ) : imageUrl,\n\t\t\t\tbackground_data: this.getBackgroundDataForElement( element ),\n\t\t\t} ),\n\t\t\tnonce: smush_detector.nonce,\n\t\t\tis_mobile: smush_detector.is_mobile,\n\t\t\tdata_store: JSON.stringify(smush_detector.data_store),\n\t\t\tprevious_data_version: smush_detector.previous_data_version,\n\t\t\tprevious_data_hash: smush_detector.previous_data_hash,\n\t\t};\n\n\t\tconst xhr = new XMLHttpRequest();\n\t\txhr.open('POST', smush_detector.ajax_url + '?action=smush_handle_lcp_data', true);\n\t\txhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\t\tconst urlEncodedData = Object.keys(body)\n\t\t\t.map(key => encodeURIComponent(key) + \"=\" + encodeURIComponent(body[key]))\n\t\t\t.join(\"&\");\n\t\txhr.send(urlEncodedData);\n\t}\n\n\tshouldUseRelativeImageURL( element, absoluteImageUrl ) {\n\t\tif ( ! element?.outerHTML ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst outerHTML = element.outerHTML;\n\t\tconst containsAbsoluteUrl = outerHTML.includes( absoluteImageUrl );\n\n\t\tif ( containsAbsoluteUrl ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst relativeImageUrl = this.makeImageURLRelative( absoluteImageUrl );\n\t\tconst containsRelativeUrl = outerHTML.includes( relativeImageUrl );\n\n\t\treturn containsRelativeUrl;\n\t}\n\n\tmakeImageURLRelative( imageUrl ) {\n\t\ttry {\n\t\t\tconst url = new URL( imageUrl, window.location.origin ); // Parse the URL\n\t\t\tif ( url.hostname === window.location.hostname ) {\n\t\t\t\t// Only make the URL relative if it belongs to the current host\n\t\t\t\treturn url.pathname + url.search; // Keep the path and query string\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\t// If the URL is invalid or relative, return it as-is.\n\t\t}\n\n\t\treturn imageUrl; // Return the original URL if it doesn't belong to the host\n\t}\n\n\tgetBackgroundDataForElement(element) {\n\t\tconst computedStyle = window.getComputedStyle(element, null);\n\t\tconst backgroundProps = [\n\t\t\tcomputedStyle.getPropertyValue(\"background-image\"),\n\t\t\tgetComputedStyle(element, \":after\").getPropertyValue(\"background-image\"),\n\t\t\tgetComputedStyle(element, \":before\").getPropertyValue(\"background-image\")\n\t\t].filter((prop) => prop !== \"none\");\n\t\tif (backgroundProps.length === 0) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.getBackgroundDataForPropertyValue(backgroundProps[0]);\n\t}\n\n\tgetBackgroundDataForPropertyValue(fullBackgroundProp) {\n\t\tlet type = \"background-image\";\n\t\tif (fullBackgroundProp.includes(\"image-set(\")) {\n\t\t\ttype = \"background-image-set\";\n\t\t}\n\t\tif (!fullBackgroundProp || fullBackgroundProp === \"\" || fullBackgroundProp.includes(\"data:image\")) {\n\t\t\treturn null;\n\t\t}\n\t\t// IMPORTANT: the following regex is a copy of the one in the PHP function Parser::get_image_urls. Remember to keep them synced.\n\t\tconst cssBackgroundUrlRegex = /((?:https?:\\/|\\.+)?\\/[^'\",\\s()]+\\.(jpe?g|png|gif|webp|svg|avif)(?:\\?[^\\s'\",?)]+)?)\\b/ig;\n\t\tconst matches = [ ...fullBackgroundProp.matchAll( cssBackgroundUrlRegex ) ];\n\t\tconst backgroundSet = matches.map( ( match ) => {\n\t\t\tconst imageURL = match[ 1 ].trim();\n\n\t\t\treturn this.useRelativeImageURL\n\t\t\t\t? this.makeImageURLRelative( imageURL )\n\t\t\t\t: imageURL;\n\t\t} );\n\n\t\tif ( backgroundSet.length <= 0 ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn {\n\t\t\ttype: type,\n\t\t\turls: backgroundSet,\n\t\t};\n\t}\n}\n\n(function () {\n\tlet lcpEntry = null;\n\tlet finalized = false;\n\tconst initialViewportBottom = window.innerHeight;\n\tconst pageLoadStartedAtTop = document?.documentElement?.scrollTop === 0;\n\n\tif (!pageLoadStartedAtTop || !('PerformanceObserver' in window)) {\n\t\treturn;\n\t}\n\n\tconst po = new PerformanceObserver((list) => {\n\t\tfor (const entry of list.getEntries()) {\n\t\t\tif (isInInitialViewport(entry)) {\n\t\t\t\tlcpEntry = entry; // always keep the latest candidate\n\t\t\t}\n\t\t}\n\t});\n\n\ttry {\n\t\tpo.observe({type: 'largest-contentful-paint', buffered: true});\n\t} catch (e) {\n\t\t// not supported\n\t}\n\n\tfunction finalizeLCP() {\n\t\tif (finalized) {\n\t\t\treturn;\n\t\t}\n\t\tfinalized = true;\n\n\t\tif (lcpEntry) {\n\t\t\tconst detector = new SmushLCPDetector();\n\t\t\tdetector.onLCP({\n\t\t\t\tentries: [lcpEntry],\n\t\t\t\tattribution: {\n\t\t\t\t\turl: lcpEntry.url || '',\n\t\t\t\t\telement: lcpEntry.element || ''\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (po) {\n\t\t\tpo.disconnect();\n\t\t}\n\t}\n\n\tfunction isInInitialViewport(entry) {\n\t\tconst el = entry && entry.element;\n\t\tif (!el) {\n\t\t\treturn true;\n\t\t}\n\t\tconst rect = el.getBoundingClientRect();\n\t\tconst elementTop = rect.top + window.scrollY;\n\t\treturn elementTop <= initialViewportBottom;\n\t}\n\n\t// Finalize on first *trusted* user input\n\t['keydown', 'click', 'pointerdown', 'touchstart'].forEach((type) => {\n\t\taddEventListener(type, (event) => {\n\t\t\tif (event.isTrusted) {\n\t\t\t\tfinalizeLCP();\n\t\t\t}\n\t\t}, {once: true, capture: true});\n\t});\n})();\n"],"names":["module","exports","e","Object","assign","bind","n","arguments","length","o","r","hasOwnProperty","call","apply","ignoreId","Node","ELEMENT_NODE","i","TEXT_NODE","t","DOCUMENT_TYPE_NODE","d","f","a","id","p","nodeType","u","l","N","previousSibling","nodeName","nextSibling","s","push","prefix","localName","parentNode","reverse","join","defineProperty","value","getAttributes","el","attributesToIgnore","undefined","attributes","concat","arr","Array","isArray","arr2","from","_toConsumableArray","reduce","sum","next","indexOf","getClasses","hasAttribute","prototype","slice","classList","filter","item","test","className","getAttribute","trim","replace","split","getClassSelectors","Boolean","map","cl","kCombinations","result","items","data","start","end","index","k","getCombinations","getID","match","getNthChild","element","counter","sibling","childNodes","len","_isElement","isElement","getParents","parents","currentElement","getTag","tagName","toLowerCase","options","_options$selectorType","selectorTypes","_options$attributesTo","_options$excludeRegex","excludeRegex","allSelectors","_getParents","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","Symbol","iterator","done","selector","getUniqueSelector","err","return","selectors","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","it","unshift","_selector","_isUnique","isUnique","_getID","_getClasses","_getCombinations","_getAttributes","_getNthChild","_getTag","testUniqueness","elements","querySelectorAll","getFirstUnique","find","getUniqueCombination","tag","combinations","firstUnique","combination","foundSelector","elementSelectors","funcs","elem","res","getAllSelectors","RegExp","ID","Class","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","selectorType","Tag","Classes","Attributes","NthChild","_typeof","obj","constructor","isElem","HTMLElement","elems","ownerDocument","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","key","enumerable","get","prop","SmushLCPDetector","_classCallCheck","_data$entries$","_data$attribution","entries","imageUrl","attribution","url","unique","xpath","getXPath","this","useRelativeImageURL","shouldUseRelativeImageURL","body","window","location","href","JSON","stringify","selector_xpath","selector_id","selector_class","image_url","makeImageURLRelative","background_data","getBackgroundDataForElement","nonce","smush_detector","is_mobile","data_store","previous_data_version","previous_data_hash","xhr","XMLHttpRequest","open","ajax_url","setRequestHeader","urlEncodedData","keys","encodeURIComponent","send","absoluteImageUrl","outerHTML","includes","relativeImageUrl","URL","origin","hostname","pathname","search","backgroundProps","getComputedStyle","getPropertyValue","getBackgroundDataForPropertyValue","fullBackgroundProp","_this","type","backgroundSet","matchAll","imageURL","urls","_document","lcpEntry","finalized","initialViewportBottom","innerHeight","document","documentElement","scrollTop","po","PerformanceObserver","list","_createForOfIteratorHelper","getEntries","entry","isInInitialViewport","observe","buffered","forEach","addEventListener","event","isTrusted","onLCP","disconnect","once","capture","getBoundingClientRect","top","scrollY"],"sourceRoot":""}