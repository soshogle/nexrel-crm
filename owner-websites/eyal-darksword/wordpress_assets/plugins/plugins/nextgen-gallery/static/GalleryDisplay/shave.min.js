function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(e=>{"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):self.shave=e()})(function(){return function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(void 0===t||isNaN(t))throw Error("maxHeight is required");var o="string"==typeof e?document.querySelectorAll(e):e;if(o){var e=n.character||"â€¦",i=n.classname||"js-shave",r="boolean"!=typeof n.spaces||n.spaces,s='<span class="js-shave-char">'.concat(e,"</span>");"length"in o||(o=[o]);for(var a=0;a<o.length;a+=1){var c=o[a],f=c.style,l=c.querySelector(".".concat(i)),d=void 0===c.textContent?"innerText":"textContent",l=(l&&(c.removeChild(c.querySelector(".js-shave-char")),c[d]=c[d]),c[d]),h=r?l.split(" "):l;if(!(h.length<2)){var l=f.height,p=(f.height="auto",f.maxHeight);if(f.maxHeight="none",!(c.offsetHeight<=t)){for(var y,u=h.length-1,m=0;m<u;)y=m+u+1>>1,c[d]=r?h.slice(0,y).join(" "):h.slice(0,y),c.insertAdjacentHTML("beforeend",s),c.offsetHeight>t?u=y-1:m=y;c[d]=r?h.slice(0,u).join(" "):h.slice(0,u),c.insertAdjacentHTML("beforeend",s);var v=r?" ".concat(h.slice(u).join(" ")):h.slice(u),v=document.createTextNode(v),g=document.createElement("span");g.classList.add(i),g.style.display="none",g.appendChild(v),c.insertAdjacentElement("beforeend",g)}f.height=l,f.maxHeight=p}}}}});