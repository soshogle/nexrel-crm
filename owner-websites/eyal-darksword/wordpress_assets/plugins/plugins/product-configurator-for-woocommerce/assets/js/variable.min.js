var PC=PC||{};PC.fe=PC.fe||{},(i=>{i(document).ready(function(){var a,t,e;i("body").is(".is_configurable")&&("undefined"!=typeof wc_add_to_cart_variation_params&&(PC.fe.product_type="variable",a=i(".variations_form"),a.on("hide_variation",function(a){i("body").removeClass("current-variation-is-configurable"),i("body").is(".enable-add-to-cart")||i(".variations_button").addClass("disabled"),i(".configure-product").hide(),i(".configure-product").attr("disabled","disabled"),PC.fe.close()}),a.on("show_variation",function(a,o){(e=o).variation_id;var r=i('input[name="product_id"]').val();i("input[name=pc_configurator_data]").val(""),PC?.productData&&PC.productData["prod_"+r]?t=PC.productData["prod_"+r]:PC?.productData?.product_info&&(t=PC.productData),o.is_configurable?(i("body").addClass("current-variation-is-configurable"),1==PC.fe.opened?(i("body").is(".enable-add-to-cart")||i(".variations_button").removeClass("disabled"),i(".configure-product").hide()):(i("body").is(".enable-add-to-cart")||i(".variations_button").addClass("disabled"),i(".configure-product").show(),i(".configure-product").prop("disabled",!1)),PC.fe.config.open_configurator&&i(".configure-product-variable").trigger("click")):(i("body").removeClass("current-variation-is-configurable"),i(".configure-product").hide(),i("body").is(".enable-add-to-cart")||i(".variations_button").removeClass("disabled"),i("body").is(".enable-add-to-cart")||i(".variations_button button").prop("disabled",!1))})),i(".configure-product-variable").on("click",function(a){PC.fe.config.current_language&&PC.utils&&PC.utils.add_language_filters&&(PC.fe.lang=PC.fe.config.current_language,PC.utils.add_language_filters(PC.fe.lang));var o=i('input[name="variation_id"]').val(),r=i('input[name="product_id"]').val();o&&r?PC.fe.open(o,r,i(a.target)):alert("No variation found...")}),wp.hooks.addAction("PC.fe.init","mkl/product_configurator",function(a){"variable"!=PC.fe.product_type&&"variation"!=PC.fe.product_type||(e?(PC.fe.currentProductData.product_info.price=e.display_price,PC.fe.currentProductData.product_info.regular_price=e.display_regular_price,PC.fe.currentProductData.product_info.is_on_sale=e.display_price<e.display_regular_price):t?.product_info?.variations[a]?.price&&(PC.fe.currentProductData.product_info.price=t.product_info.variations[a].price,PC.fe.currentProductData.product_info.regular_price=t.product_info.variations[a].regular_price,PC.fe.currentProductData.product_info.is_on_sale=t.product_info.variations[a].is_on_sale),t?.product_info?.mode&&"share_all_config"===t.product_info.mode?(PC.fe.contents=PC.fe.setContent.parse(t),PC.fe.modal.$el.trigger("content-is-loaded")):a&&0!=a?PC.fe.fetchContent(a):PC.fe.modal.$el.trigger("content-is-loaded","no-content"))},20))})})(jQuery);