var PC=PC||{};PC.choice=Backbone.Model.extend({idAttribute:"_id",defaults:{_id:0,name:"",description:"",images:null,layerId:null,available:!0},initialize:function(e,i){e.layerId||this.set("layerId",i.layer.id),e.images instanceof Backbone.Collection||(i=new PC.choice_pictures(e.images,{parse:!0}),this.set("images",i)),PC.fe&&this.set("active",!1),"0"===e.available?this.set("available",!1):this.set("available",!0),"undefined"!=e.is_group&&e.is_group&&this.set("available",!1),wp.hooks.doAction("PC.fe.models.choice.init",this)},get_image:function(e,i,t){i=i||"url","thumbnail"==(e=e||"image")?t=(t=PC.fe.angles.findWhere({has_thumbnails:!0}))||PC.fe.angles.first().id:t&&PC.fe.angles.get(t)||(t=(PC.fe.angles.findWhere({active:!0})||PC.fe.angles.first()).id);t=this.attributes.images.get(t);return t?t.attributes[e][i]:""},has_image:function(){var i=0;return this.get("images").each(function(e){e.get("image")&&e.get("image").url&&i++}),i},parse:function(e){},sync:function(e,i,t){},get_name:function(){return wp.hooks.applyFilters("PC.fe.configurator.choice_data",this.attributes).name}}),PC.content=Backbone.Model.extend({idAttribute:"layerId",defaults:{layerId:null,choices:null}}),PC.choice_picture=Backbone.Model.extend({idAttribute:"angleId",defaults:{image:{id:null,url:"",dimensions:null},thumbnail:{id:null,url:""},angleId:null}});