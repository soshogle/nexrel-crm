var PC=PC||{};PC.views=PC.views||{},PC.actions=PC.actions||{},(c=>{PC.actions.select_product=function(e,t){new PC.views.product_selector(e,t).$el.appendTo("body")},PC.views.product_selector=Backbone.View.extend({tagName:"div",className:"mkl-pc-product-selector--container",template:wp.template("mkl-pc-product-selector"),events:{"click .button.select":"select","click .button.cancel":"close","select2:select .wc-product-search":"on_select_product"},initialize:function(e,t){return this.originals={target:e,context:t},this.render(),setTimeout(function(){c(document.body).trigger("wc-enhanced-select-init")},50),this},render:function(){this.$el.html(this.template({}))},select:function(e){this.originals.target.trigger("product_selected",{text:this.selected_text,id:this.selected}),this.close()},close:function(e){this.$("select").select2("destroy"),this.remove()},on_select_product:function(e){var t=e.params.data.id;t&&(this.selected_text=e.params.data.text,this.selected=t,this.$el.find(".button.select").prop("disabled",!1))}})})(jQuery);